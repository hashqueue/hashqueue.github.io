<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>研发流程中的git分支管理及角色介绍 | hashqueue&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="web全栈开发技术博客,简洁至上,专注web全栈开发学习与总结。JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="前端博客,后端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.0d5a5c7e.css" as="style"><link rel="preload" href="/assets/js/app.56233da9.js" as="script"><link rel="preload" href="/assets/js/2.428278c7.js" as="script"><link rel="preload" href="/assets/js/42.13174813.js" as="script"><link rel="prefetch" href="/assets/js/10.69adbc3c.js"><link rel="prefetch" href="/assets/js/11.f6a9cd78.js"><link rel="prefetch" href="/assets/js/12.f553d420.js"><link rel="prefetch" href="/assets/js/13.b73888ff.js"><link rel="prefetch" href="/assets/js/14.0bdfe705.js"><link rel="prefetch" href="/assets/js/15.fa335165.js"><link rel="prefetch" href="/assets/js/16.f76cdc96.js"><link rel="prefetch" href="/assets/js/17.9be0b651.js"><link rel="prefetch" href="/assets/js/18.c6d6b52c.js"><link rel="prefetch" href="/assets/js/19.bc35a02e.js"><link rel="prefetch" href="/assets/js/20.4adfffaf.js"><link rel="prefetch" href="/assets/js/21.50536190.js"><link rel="prefetch" href="/assets/js/22.0df4a7a0.js"><link rel="prefetch" href="/assets/js/23.166f6ebf.js"><link rel="prefetch" href="/assets/js/24.00cf9a43.js"><link rel="prefetch" href="/assets/js/25.65f57b03.js"><link rel="prefetch" href="/assets/js/26.ee5dddbf.js"><link rel="prefetch" href="/assets/js/27.eca48c41.js"><link rel="prefetch" href="/assets/js/28.aa900806.js"><link rel="prefetch" href="/assets/js/29.2df68e92.js"><link rel="prefetch" href="/assets/js/3.91dab8b1.js"><link rel="prefetch" href="/assets/js/30.88bd857a.js"><link rel="prefetch" href="/assets/js/31.ba52b782.js"><link rel="prefetch" href="/assets/js/32.634b2937.js"><link rel="prefetch" href="/assets/js/33.41f85622.js"><link rel="prefetch" href="/assets/js/34.12a4652d.js"><link rel="prefetch" href="/assets/js/35.a53f2cab.js"><link rel="prefetch" href="/assets/js/36.a5a3ac60.js"><link rel="prefetch" href="/assets/js/37.be2fcba0.js"><link rel="prefetch" href="/assets/js/38.02cf1819.js"><link rel="prefetch" href="/assets/js/39.5bac1cec.js"><link rel="prefetch" href="/assets/js/4.5d639fb5.js"><link rel="prefetch" href="/assets/js/40.e0532367.js"><link rel="prefetch" href="/assets/js/41.3db193f2.js"><link rel="prefetch" href="/assets/js/43.ccad5183.js"><link rel="prefetch" href="/assets/js/44.5baaf46c.js"><link rel="prefetch" href="/assets/js/45.90bb5e2a.js"><link rel="prefetch" href="/assets/js/46.6d13cd8d.js"><link rel="prefetch" href="/assets/js/47.701b600b.js"><link rel="prefetch" href="/assets/js/48.43f3d9bf.js"><link rel="prefetch" href="/assets/js/49.25b962bd.js"><link rel="prefetch" href="/assets/js/5.8a13d43d.js"><link rel="prefetch" href="/assets/js/50.4aaa265e.js"><link rel="prefetch" href="/assets/js/51.7c38894d.js"><link rel="prefetch" href="/assets/js/52.2f5a1543.js"><link rel="prefetch" href="/assets/js/53.336b461f.js"><link rel="prefetch" href="/assets/js/54.2f34f22c.js"><link rel="prefetch" href="/assets/js/55.87405727.js"><link rel="prefetch" href="/assets/js/56.1a49ebb3.js"><link rel="prefetch" href="/assets/js/57.38b67427.js"><link rel="prefetch" href="/assets/js/58.710ee01b.js"><link rel="prefetch" href="/assets/js/59.8a3969b6.js"><link rel="prefetch" href="/assets/js/6.3cf89dd3.js"><link rel="prefetch" href="/assets/js/60.42d32fdc.js"><link rel="prefetch" href="/assets/js/61.23efef9a.js"><link rel="prefetch" href="/assets/js/62.fd6a6a4c.js"><link rel="prefetch" href="/assets/js/63.a1599c64.js"><link rel="prefetch" href="/assets/js/64.740d6add.js"><link rel="prefetch" href="/assets/js/65.d998436d.js"><link rel="prefetch" href="/assets/js/66.8678d528.js"><link rel="prefetch" href="/assets/js/67.9a643d37.js"><link rel="prefetch" href="/assets/js/68.d5dcd9d2.js"><link rel="prefetch" href="/assets/js/69.47dd3667.js"><link rel="prefetch" href="/assets/js/7.9140e028.js"><link rel="prefetch" href="/assets/js/70.0de15fad.js"><link rel="prefetch" href="/assets/js/8.6df96559.js"><link rel="prefetch" href="/assets/js/9.72b85f87.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0d5a5c7e.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/hashqueue-logo.png" alt="hashqueue's blog" class="logo"> <span class="site-name can-hide">hashqueue's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/categories/?category=%E6%94%B6%E8%97%8F" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a5f74c/" class="nav-link">大佬的博客</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/hashqueue/hashqueue.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.staticaly.com/gh/hashqueue/blog-image-hosting@master/images/ver.2wtugvrdka00.webp"> <div class="blogger-info"><h3>hashqueue</h3> <span>一个小菜鸡，Web全栈开发努力中...</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/categories/?category=%E6%94%B6%E8%97%8F" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a5f74c/" class="nav-link">大佬的博客</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/hashqueue/hashqueue.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Git</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b9b5a6/" class="sidebar-link">git将一个分支的代码强制覆盖到另一个分支</a></li><li><a href="/pages/86cac2/" class="sidebar-link">git常用命令</a></li><li><a href="/pages/b19ae8/" aria-current="page" class="active sidebar-link">研发流程中的git分支管理及角色介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/b19ae8/#研发流程中涉及到的角色" class="sidebar-link">研发流程中涉及到的角色</a></li><li class="sidebar-sub-header level2"><a href="/pages/b19ae8/#开发过程当中的git分支管理" class="sidebar-link">开发过程当中的git分支管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#服务器部署环境" class="sidebar-link">服务器部署环境</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#分支种类" class="sidebar-link">分支种类</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#分支的生命周期" class="sidebar-link">分支的生命周期</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#preview-分支" class="sidebar-link">preview 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#release-分支" class="sidebar-link">release 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#staging-分支" class="sidebar-link">staging 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#dev-分支" class="sidebar-link">dev 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#feature-分支" class="sidebar-link">feature 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#bugfix-分支" class="sidebar-link">bugfix 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#hotfix-分支" class="sidebar-link">hotfix 分支</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#典型场景举例" class="sidebar-link">典型场景举例</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#分支命名的建议" class="sidebar-link">分支命名的建议</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#分支命名反例" class="sidebar-link">分支命名反例</a></li><li class="sidebar-sub-header level3"><a href="/pages/b19ae8/#参考" class="sidebar-link">参考</a></li></ul></li></ul></li><li><a href="/pages/11d504/" class="sidebar-link">gitlab CI &amp; CD学习笔记</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编程工具</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E5%90%8E%E7%AB%AF" title="分类" data-v-06225672>后端</a></li><li data-v-06225672><a href="/categories/?category=Git" title="分类" data-v-06225672>Git</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/hashqueue" target="_blank" title="作者" class="beLink" data-v-06225672>hashqueue</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-08-09</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">研发流程中的git分支管理及角色介绍<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="研发流程中涉及到的角色"><a href="#研发流程中涉及到的角色" class="header-anchor">#</a> 研发流程中涉及到的角色</h2> <ul><li>PM(Product Manager)
产品经理，又称品牌经理。写PRD文档的。</li> <li>RD(Research and Development engineer)
研发工程师，俗称 Java 猿、PHP猿、GO猿、Python猿。</li> <li>QA(Quality Assurance)
<ul><li>测试的同学，QA的主要职责就是质量保证工作，属于质量保证部门。</li> <li>大公司都是几个高级QA带着一帮外包QA工作。</li></ul></li> <li>OP(Operator)
运维的同学，搞服务器会算法的大佬。</li> <li>FE(Front-End)
前端开发同学，也属于研发部门。</li> <li>UE(User Experience)
用户体验，主要研究交互的优不优雅啥的，感觉比<code>UI</code>高级。</li> <li>UI(User Interface)
用户界面，设计产品原型图的同学。</li> <li>DBA(Database Administrator)
数据库管理员，专门研究数据库的大佬。</li> <li>SRE(Site Reliability Engineer)
网站可靠性工程师，是软件工程师和系统管理员的结合，一个SRE工程师基本上需要掌握很多知识：算法，数据结构，编程能力，网络编程，分布式系统，可扩展架构，故障排除。</li> <li>MRD(Market Requirements Document)
市场需求文档，唯一不用猿们看的文档，因为是PM给老大们看的。</li> <li>PRD
产品需求文档，需要猿们经常看的文档。</li></ul> <h2 id="开发过程当中的git分支管理"><a href="#开发过程当中的git分支管理" class="header-anchor">#</a> 开发过程当中的git分支管理</h2> <h3 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h3> <p>多人参与开发时的 GIT 分支管理模型，使用的是gitlab来作代码管理与权限控制。</p> <h3 id="服务器部署环境"><a href="#服务器部署环境" class="header-anchor">#</a> 服务器部署环境</h3> <p>通常来讲，服务器端分如下几种运行、部署环境</p> <ul><li>staging：用于开发功能时给 RD 测试用，代码、数据库都是测试环境的。数据库</li> <li>preview：用于代码部署到生产环境前的测试，代码是准生产版本，数据库是生产环境的。</li> <li>production：生产环境，代码、数据库都是生产环境的。</li></ul> <p>以上环境的代码稳定版依次提升。</p> <h3 id="分支种类"><a href="#分支种类" class="header-anchor">#</a> 分支种类</h3> <p>为配合以上几种部署环境，代码库分如下几种类型的分支</p> <ul><li><p>staging 分支：用于 staging 环境的部署。</p></li> <li><p>master 分支：GIT 的默认分支，提供最新、稳定的代码。</p></li> <li><p>preview 分支：用于 preview 环境的部署。</p></li> <li><p>release 分支：用于 production 环境的部署，保持代码随时可发布到生产环境。</p></li></ul> <p>以上几个分支会永久存在于代码库中，在开发功能、修复 BUG 的过程当中，还会用到几种分支。</p> <h4 id="开发新功能时会用到的"><a href="#开发新功能时会用到的" class="header-anchor">#</a> 开发新功能时会用到的</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>dev 分支：
以 dev_xxx 命名。xxx 表示**功能**的简单描述。

feature 分支：
以 feature_xxx 命名，其中，xxx 表示对**子功能**的简单描述。
一个功能会拆成若干个子功能，每一个 RD 开发 <span class="token number">1</span> 个子功能。

dev 分支与 feature 分支的区别：
一个新功能一般须要多个 RD 参与开发。RD 在各自的 feature 分支提交代码。存在一种状况，RD B 的代码依赖 RD A，而这个时候两我的写的代码都不稳定，不适合往 master 分支合并。此时，RD A 将本身的代码先合入 dev 分支，RD B 基于 dev 分支进行开发。

修复常规 bug 时会用到的：
bugfix：以 bugfix_xxx 命名。xxx 表示 bug 的简单描述。

修复紧急 bug 时会用到的：
hotfix：以 hotfix_xxx 命名。xxx 表示 bug 的简单描述。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>综上，通常状况，咱们一共会用到如下几种分支： staging、master、preview、release、dev、feature、bugfix、hotfix 。</p> <h3 id="分支的生命周期"><a href="#分支的生命周期" class="header-anchor">#</a> 分支的生命周期</h3> <p>示意图</p> <p><img src="https://cdn.jsdelivr.net/gh/hashqueue/blog-image-hosting@master/images/git-%E5%88%86%E6%94%AF%E7%A4%BA%E6%84%8F%E5%9B%BE-cea766b35a074d9f872cecc679de69ad.png" alt="git-分支示意图"></p> <h4 id="master-分支"><a href="#master-分支" class="header-anchor">#</a> master 分支</h4> <p>默认存在，master 分支上保持最新的、稳定的代码。
从如下分支合并(merged from)：
dev、bugfix、hotfix</p> <h3 id="preview-分支"><a href="#preview-分支" class="header-anchor">#</a> preview 分支</h3> <p>从如下分支合并(merged from)：
master
合入如下分支：
一旦拉出，再也不合入其它分支
说明：
preview 分支用于代码部署到生产环境前的预发布，用于正式上线前的最后一次测试。master 分支的代码部署到生产环境前，先用 merge (发 merge request 或用 git merge 命令，下同)把代码合入 preview 分支。</p> <h3 id="release-分支"><a href="#release-分支" class="header-anchor">#</a> release 分支</h3> <p>从如下分支合并(merged from)：
master
合入如下分支：
一旦拉出，再也不合入其它分支
说明：
preview 分支的代码在预生产环境测试经过后，master 分支上、合入 preview 分支的结点，往 release 分支 merge 一次。</p> <h3 id="staging-分支"><a href="#staging-分支" class="header-anchor">#</a> staging 分支</h3> <p>从如下分支合并(merged from)：
feature
合入如下分支：
一旦拉出，再也不合入其它分支
说明：
staging 分支的代码给 RD 测试功能用。RD 在 feature 开发完子功能后，把代码提交到 feature 分支，再把 feature 分支合到 staging 分支。最后在 xbox 上部署staging 环境，进行测试。</p> <h3 id="dev-分支"><a href="#dev-分支" class="header-anchor">#</a> dev 分支</h3> <p>派生自如下分支(forked from)：
master
合入如下分支：
master
说明：
dev 分支用于多人开发同一个功能时提交代码。它的存在时间跟新功能开发的时间相同。新功能开始开发时，它从 master 分支 fork 出来；新功能开发结束时，它被合入 master 分支，而后删除。</p> <h3 id="feature-分支"><a href="#feature-分支" class="header-anchor">#</a> feature 分支</h3> <p>派生自如下分支(forked from)：
dev
合入如下分支：
staging、dev
说明：
feature 分支用于 RD 我的提交代码。开发新功能时，每一个 RD 从 dev 分支 fork 出本身的 feature 分支，不一样 RD 在远程代码仓库不共享 feature 分支。当代码可测试时，先提交到 feature 分支，再 merge 到 staging 分支、发布、测试。测试通过后，merge 到 dev 分支。若是另一个 RD 须要依赖你的代码，他须要先将本身 feature 分支 rebase(用 git rebase 命令)到最新的 dev 分支(包含你的代码)，而后进行开发。</p> <h3 id="bugfix-分支"><a href="#bugfix-分支" class="header-anchor">#</a> bugfix 分支</h3> <p>派生自如下分支(forked from)：
master
合入如下分支：
staging、master
说明：
bugfix 分支用于修复常规、不紧急的 bug。RD 开始修复 bug 时，从 master 分支 fork 出 bugfix 分支。提交修复代码后，把 bugfix 分支 merge 到 staging，在staging 环境发布、测试。测试经过后，再把 bugfix 分支 merge 到 master，而后删除。</p> <h3 id="hotfix-分支"><a href="#hotfix-分支" class="header-anchor">#</a> hotfix 分支</h3> <p>派生自(forked from)：
release
合入如下分支：
staging、master、preview、release
说明：
hotfix 分支用于修复生产环境的、紧急的 bug。RD 开始修复紧急 bug 时，从 release 分支 fork 出 hotfix 分支。提交修复代码后，把 hotfix 分支 merge 到 staging，在 staging 环境发布、测试。在 staging 测试经过后，再把 hotfix 分支 merge 到 preview，在 preview 环境进行测试。测试也经过后，再 merge 到 master、release 分支。</p> <h3 id="典型场景举例"><a href="#典型场景举例" class="header-anchor">#</a> 典型场景举例</h3> <p>下面举例一些常见场景，以及分支的操做步骤。</p> <h4 id="开发新的功能"><a href="#开发新的功能" class="header-anchor">#</a> 开发新的功能</h4> <ol><li>某 RD 先从 master 分支 fork 出 dev 分支，命名为 dev_xxx 。</li> <li>参与开发这个功能的 RD 基于 dev_xxx 分支 fork 出 feature_xxx_RDA，feature_xxx_RDB 等分支。</li> <li>各 RD 在本身的 feature 分支开发子功能。</li> <li>RD A 在本身的分支 feature_xxx_RDA 上提交了几个工具类，这些类会给其余 RD 用。他把 feature_xxx_RDA push（用 git push 命令）到远程仓库，再 merge 到 staging，在 staging 环境发布、测试。若是测试发现问题，他再提交一个commit 到 feature_xxx_RDA 分支，而后 merge 到 staging，再发布、测试。测试经过后，他把 feature_xxx_RDA merge 到 dev_xxx 分&gt;支，而后继续开发其它功能。</li> <li>RD B 的工做依赖 RD A 开发的工具类。他把 feature_xxx_RDB rebase 到 最新的 dev_xxx 分支，而后进行开发。</li> <li>全部 RD 开发完后，某 RD 再把 dev_xxx 分支 merge 到 master 分支，而后删除 dev_xxx 分支。
某 RD 再把 master 分支 merge 到 preview 分支。</li> <li>在 preview 测试经过后，再把 master 分支 merge 到 release 分支，而后发布到生产环境。</li></ol> <h4 id="修复常规-bug"><a href="#修复常规-bug" class="header-anchor">#</a> 修复常规 bug</h4> <ol><li>某 RD 领到一个 bug。开始修复时，他从 master 分支 fork 出 bugfix 分支，命名为 bugfix_xxx 。</li> <li>RD 在 bugfix_xxx 分支上提交修复代码，本身测试经过后，merge 到 staging，而且在 staging 环境发布、测试。若是测试发现问题，他再提交一个 commit 到 bugfix_xxx 分支，而后再 merge 到 staging，再发布、测试。直到测试彻底经过，他把 bugfix_xxx merge 到 master 分支，而后删除 bugfix_xxx 分支。</li> <li>由于是常规 bug，他不须要立刻把修复的代码部署到生产环境。等待下一次发布周期便可。</li></ol> <h4 id="修复线上紧急-bug"><a href="#修复线上紧急-bug" class="header-anchor">#</a> 修复线上紧急 bug</h4> <p>紧急 bug 是指若是不立刻修复，会形成重大损失的 bug。操作步骤如下</p> <ol><li>某 RD 领到一个紧急 bug。开始修复时，他从 release 分支 fork 出 hotfix 分支，命名为 hotfix_xxx。</li> <li>RD 在 hotfix_xxx 分支进行修复。提交代码后，他把 hotfix_xxx merge 到 staging，而且在 staging 环境发布、测试。若是测试发现问题，他再提交一个 commit 到 hotfix_xxx 分支，而后再 merge 到 staging，再发布、测试。直到测试彻底经过，他把 hotfix_xxx merge 到 preview 分支，在 preview 环境测试。若是测试发现问题，继续在 hotfix_xxx 分支提交修复代码，再 merge 到 staging 进行测试。</li> <li>preview 环境测试经过后，RD 把 hotfix_xxx merge 到 release 分支。上线，在生产环境观察 bug 是否修复。</li> <li>若是生产环境还有问题，继续在 hotfix_xxx 修复，而后在 staging、preview 测试，测试经过再从新上线。这种状况应该尽量<strong>避免</strong>，保证一次上线修复成功。</li> <li>生产环境验证没问题后，RD 把 hotfix_xxx merge 到 master，而后删除hot_xxx 分支。</li></ol> <p><strong>建议：请勿在周五发布任何正式环境分支，以避免出现问题。</strong></p> <h3 id="分支命名的建议"><a href="#分支命名的建议" class="header-anchor">#</a> 分支命名的建议</h3> <p>master、release、staging、preview 分支以它类型名字命名。</p> <p>推荐的命名方式</p> <ul><li>对 dev 分支，建议以 dev_xxx_时间戳，其中，xxx 表示功能的英文简单描述，多个分词间用下划线分隔，时间戳用 yyyyMMdd 格式。如“保险礼品后台”功能的开发分支，可命名为 dev_ins_gift_20170329。</li> <li>对 feature、bugfix、hotfix 分支，建议以 前缀_xxx_姓名 命名，其中前缀指 feature、bugfix、hotfix，xxx 表示功能的简单描述，姓名是负责开发功能的 RD 名字拼音。如修复链接数泄漏 bug 的分支，可命名为 bugfix_fix_conn_leak_zhangsan 。</li></ul> <h3 id="分支命名反例"><a href="#分支命名反例" class="header-anchor">#</a> 分支命名反例</h3> <ol><li>不包含任何前缀</li> <li>只包含前缀、时间戳</li> <li>只包含前缀、姓名</li> <li>其它可读性低的命名</li></ol> <h3 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h3> <p><a href="https://juejin.im/post/5e6aee85e51d4527235b766d" target="_blank" rel="noopener noreferrer">PM、RD、FE、UE ......都是些啥？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.im/post/5d82e1f3e51d4561d044cd88" target="_blank" rel="noopener noreferrer">Git 分支管理规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.jianshu.com/p/f96f4c8ce80c" target="_blank" rel="noopener noreferrer">开发过程中的git分支管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.shangmayuan.com/a/80ff4fbcc5b042c7bfe88331.html" target="_blank" rel="noopener noreferrer">开发过程当中的git分支管理-全<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/hashqueue/hashqueue.github.io/edit/master/docs/01.后端/04.Git/03.研发流程中的git分支管理及角色介绍.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/08/15, 15:32:05</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/86cac2/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">git常用命令</div></a> <a href="/pages/11d504/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">gitlab CI &amp; CD学习笔记</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/86cac2/" class="prev">git常用命令</a></span> <span class="next"><a href="/pages/11d504/">gitlab CI &amp; CD学习笔记</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/ac727a/"><div>
            Python实现对字符串的加解密
            <!----></div></a> <span class="date">02-25</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/e9dfe0/"><div>
            Python3对大文件中指定字符进行排序再写入到新的文件
            <!----></div></a> <span class="date">10-24</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/6c6252/"><div>
            Ubuntu下配置adb环境连接Android设备进行调试
            <!----></div></a> <span class="date">08-17</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1912315910@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/hashqueue" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=3778678" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>hashqueue | <a href="https://github.com/hashqueue/hashqueue.github.io/blob/main/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.56233da9.js" defer></script><script src="/assets/js/2.428278c7.js" defer></script><script src="/assets/js/42.13174813.js" defer></script>
  </body>
</html>
